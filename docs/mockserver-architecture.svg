<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 320">
  <defs>
    <style>
      .box { fill: #ffffff; stroke: #333333; stroke-width: 2; rx: 8; }
      .box-header { fill: #2d2d2d; }
      .text-title { font-family: 'Segoe UI', Arial, sans-serif; font-size: 14px; font-weight: 600; fill: #ffffff; }
      .text-label { font-family: 'Segoe UI', Arial, sans-serif; font-size: 11px; fill: #333333; }
      .text-small { font-family: 'Segoe UI', Arial, sans-serif; font-size: 10px; fill: #666666; }
      .component { fill: #f5f5f5; stroke: #cccccc; stroke-width: 1; rx: 4; }
      .arrow { stroke: #666666; stroke-width: 1.5; fill: none; marker-end: url(#arrowhead); }
      .dashed { stroke-dasharray: 4,2; }
    </style>
    <marker id="arrowhead" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#666666"/>
    </marker>
  </defs>

  <!-- Main Container -->
  <rect class="box" x="20" y="20" width="560" height="280"/>
  <rect class="box-header" x="20" y="20" width="560" height="32" rx="8" ry="8"/>
  <rect class="box-header" x="20" y="40" width="560" height="12" rx="0" ry="0"/>
  <text class="text-title" x="300" y="42" text-anchor="middle">SWIM DNOTAM MockServer</text>

  <!-- Subscription Manager API -->
  <rect class="component" x="40" y="70" width="160" height="70"/>
  <text class="text-label" x="120" y="95" text-anchor="middle" font-weight="600">Subscription Manager</text>
  <text class="text-small" x="120" y="110" text-anchor="middle">REST API (ED-254)</text>
  <text class="text-small" x="120" y="125" text-anchor="middle">mTLS Authentication</text>

  <!-- Event Generator -->
  <rect class="component" x="40" y="160" width="160" height="70"/>
  <text class="text-label" x="120" y="185" text-anchor="middle" font-weight="600">Event Generator</text>
  <text class="text-small" x="120" y="200" text-anchor="middle">Cron Scheduler</text>
  <text class="text-small" x="120" y="215" text-anchor="middle">82 AIXM Samples</text>

  <!-- Artemis Broker -->
  <rect class="component" x="320" y="70" width="240" height="160"/>
  <text class="text-label" x="440" y="95" text-anchor="middle" font-weight="600">ActiveMQ Artemis</text>
  <text class="text-small" x="440" y="115" text-anchor="middle">AMQP 1.0 Broker</text>
  
  <!-- Queue representation -->
  <rect x="340" y="135" width="200" height="30" fill="#e8e8e8" stroke="#999999" rx="4"/>
  <text class="text-small" x="440" y="155" text-anchor="middle">DNOTAM.v1.{user}.{subscription}</text>
  
  <!-- Events representation -->
  <rect x="340" y="180" width="60" height="25" fill="#4a90d9" rx="3"/>
  <text style="font-family: Arial; font-size: 9px; fill: white;" x="370" y="197" text-anchor="middle">Event</text>
  <rect x="410" y="180" width="60" height="25" fill="#4a90d9" rx="3"/>
  <text style="font-family: Arial; font-size: 9px; fill: white;" x="440" y="197" text-anchor="middle">Event</text>
  <rect x="480" y="180" width="60" height="25" fill="#4a90d9" rx="3"/>
  <text style="font-family: Arial; font-size: 9px; fill: white;" x="510" y="197" text-anchor="middle">Event</text>

  <!-- Arrows -->
  <path class="arrow" d="M200,105 L310,105"/>
  <path class="arrow" d="M200,195 L310,150"/>
  
  <!-- External Consumer label -->
  <rect x="320" y="250" width="240" height="35" fill="none" stroke="#999999" stroke-dasharray="4,2" rx="4"/>
  <text class="text-small" x="440" y="272" text-anchor="middle">â†’ Consumer connects here (AMQP)</text>

  <!-- Port labels -->
  <text class="text-small" x="40" y="265" text-anchor="start">:8443 HTTPS</text>
  <text class="text-small" x="40" y="280" text-anchor="start">:5672 AMQP</text>

</svg>
